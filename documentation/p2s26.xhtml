<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>io7m-r2 0.2.0 Documentation: 2.26. Stippling</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="kstructural-layout.css"/><link rel="stylesheet" type="text/css" href="kstructural-colour.css"/><link rel="stylesheet" type="text/css" href="documentation.css"/></head><body><div class="st300_body"><div class="st300_navbar st300_navbar_top"><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_title_cell">2.25. Environment Mapping</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.27. Generic Refraction</td></tr><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s25.xhtml#st300_p2s25" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s27.xhtml#st300_p2s27" title="Go to next page">Next</a></td></tr></table><hr class="st300_hr"/></div><div class="st300_section_container"><a id="di.stippling"/><div class="st300_section_title_number"><a id="st300_p2s26" href="#st300_p2s26" title="Section 2.26: Stippling">2.26</a></div><div class="st300_section_title">Stippling</div><ul class="st300_contents st300_section_contents_outer st300_section_contents"><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s26.xhtml#st300_p2s26ss1" title="Link to subsection 2.26.1: Overview">2.26.1. Overview</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s26.xhtml#st300_p2s26ss2" title="Link to subsection 2.26.2: Algorithm">2.26.2. Algorithm</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s26.xhtml#st300_p2s26ss3" title="Link to subsection 2.26.3: Types">2.26.3. Types</a></li></ul><div class="st300_subsection_container"><a id="di.stippling.overview"/><div class="st300_subsection_title_number"><a id="st300_p2s26ss1" href="#st300_p2s26ss1" title="Subsection 2.26.1: Overview">2.26.1</a></div><div class="st300_subsection_title">Overview</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s26ss1c1" href="#st300_p2s26ss1c1" title="Paragraph 2.26.1.1">1</a></div><div class="st300_paragraph">One major issue with <a class="st300_link" href="p2s18.xhtml#di.deferred">deferred rendering</a> is that it does not allow for <span class="st300_term term">translucency</span>; the scene is placed into a single flat image and there is no way to express the fact that an object is to be overlaid on top of another object. This can be a problem when implementing systems such as <span class="st300_term term">level-of-detail</span> (or <span class="st300_term term">LOD</span>) switching. A basic requirement for an LOD system is that when the viewer moves a certain distance away from an object, that object should be replaced with a lower-polygon version in order to reduce rendering costs. Switching from a high polygon version to a low polygon version in one frame can be visually jarring, however, so it is usually desirable to fade out one version of the object whilst fading in another version over the course of a few frames. This presents an immediate problem: It is not possible to implement traditional alpha translucency fading in a deferred rendering system, as described above.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s26ss1c2" href="#st300_p2s26ss1c2" title="Paragraph 2.26.1.2">2</a></div><div class="st300_paragraph">The <span class="st300_term term">stippling</span> technique attempts to provide an alternative to alpha translucency. The technique is simple: Simply discard some pixels of an object when the object is rendered into the <a class="st300_link" href="p2s19.xhtml#di.deferred.geom">geometry buffer</a>. By progressively discarding more pixels over the course of a few frames, the object can be made to fade . If the pattern of discarded pixels is randomized and the fading time is short, the result is visually acceptable for implementing <span class="st300_term term">LOD</span> systems.</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s26ss1c3" href="#st300_p2s26ss1c3" title="Formal item 2.26.1.3: Stippling">2.26.1.3 Stippling</a></div><div class="st300_formal_item_content"><img class="st300_image" alt="Progressive stippling" src="images/stipple.png"/></div></div></div><div class="st300_subsection_container"><a id="di.stippling.algorithm"/><div class="st300_subsection_title_number"><a id="st300_p2s26ss2" href="#st300_p2s26ss2" title="Subsection 2.26.2: Algorithm">2.26.2</a></div><div class="st300_subsection_title">Algorithm</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s26ss2c1" href="#st300_p2s26ss2c1" title="Paragraph 2.26.2.1">1</a></div><div class="st300_paragraph">The stippling algorithm is very simple:</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s26ss2c2" href="#st300_p2s26ss2c2" title="Formal item 2.26.2.2: Algorithm">2.26.2.2 Algorithm</a></div><div class="st300_formal_item_content"><ol class="st300_list_ordered"><li class="st300_list_item">Tile a pattern texture <span class="st300_term variable">t</span> over the entire screen.</li><li class="st300_list_item">For each pixel with screen coordinates <span class="st300_term variable">p</span> in the object currently being rendered, sample a value <span class="st300_term variable">x</span> from <span class="st300_term variable">t</span> at <span class="st300_term variable">p</span>.</li><li class="st300_list_item">If <span class="st300_term variable">x</span> is less than the defined stippling threshold <span class="st300_term variable">s</span>, discard the pixel.</li></ol></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s26ss2c3" href="#st300_p2s26ss2c3" title="Paragraph 2.26.2.3">3</a></div><div class="st300_paragraph">In practice, for good visual results when fading between two objects, the programmer should use two complementary stippling patterns for the objects. For example, using a checkerboard stippling pattern for the first object and an inverted copy of the pattern for the other. This guarantees that at no point are the same pixels from both objects discarded.</div></div></div><div class="st300_subsection_container"><a id="di.stippling.types"/><div class="st300_subsection_title_number"><a id="st300_p2s26ss3" href="#st300_p2s26ss3" title="Subsection 2.26.3: Types">2.26.3</a></div><div class="st300_subsection_title">Types</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s26ss3c1" href="#st300_p2s26ss3c1" title="Paragraph 2.26.3.1">1</a></div><div class="st300_paragraph">In the <span class="st300_term package">r2</span> package, the stippling effect is provided by shaders such as <a class="st300_link_external" href="apidocs/com/io7m/r2/core/shaders/provided/R2SurfaceShaderBasicStippledSingle.html">R2SurfaceShaderBasicStippledSingle</a>.</div></div></div></div><div class="st300_navbar st300_navbar_bottom"><hr class="st300_hr"/><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s25.xhtml#st300_p2s25" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s27.xhtml#st300_p2s27" title="Go to next page">Next</a></td></tr><tr><td class="st300_navbar_prev_title_cell">2.25. Environment Mapping</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.27. Generic Refraction</td></tr></table></div></div></body></html>
