<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>io7m-r2 0.2.0 Documentation: 2.13. Lighting: Directional</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="kstructural-layout.css"/><link rel="stylesheet" type="text/css" href="kstructural-colour.css"/><link rel="stylesheet" type="text/css" href="documentation.css"/></head><body><div class="st300_body"><div class="st300_navbar st300_navbar_top"><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_title_cell">2.12. Lighting</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.14. Lighting: Spherical</td></tr><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s12.xhtml#st300_p2s12" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s14.xhtml#st300_p2s14" title="Go to next page">Next</a></td></tr></table><hr class="st300_hr"/></div><div class="st300_section_container"><a id="di.lighting.directional"/><div class="st300_section_title_number"><a id="st300_p2s13" href="#st300_p2s13" title="Section 2.13: Lighting: Directional">2.13</a></div><div class="st300_section_title">Lighting: Directional</div><ul class="st300_contents st300_section_contents_outer st300_section_contents"><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s13.xhtml#st300_p2s13ss1" title="Link to subsection 2.13.1: Overview">2.13.1. Overview</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s13.xhtml#st300_p2s13ss2" title="Link to subsection 2.13.2: Attenuation">2.13.2. Attenuation</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s13.xhtml#st300_p2s13ss3" title="Link to subsection 2.13.3: Application">2.13.3. Application</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s13.xhtml#st300_p2s13ss4" title="Link to subsection 2.13.4: Types">2.13.4. Types</a></li></ul><div class="st300_subsection_container"><a id="di.lighting.directional.overview"/><div class="st300_subsection_title_number"><a id="st300_p2s13ss1" href="#st300_p2s13ss1" title="Subsection 2.13.1: Overview">2.13.1</a></div><div class="st300_subsection_title">Overview</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s13ss1c1" href="#st300_p2s13ss1c1" title="Paragraph 2.13.1.1">1</a></div><div class="st300_paragraph"><span class="st300_term term">Directional lighting</span> is the most trivial form of lighting provided by the <span class="st300_term package">r2</span> package. A directional light is a light that emits parallel rays of light in a given eye space <span class="st300_term term">direction</span>. It has a <span class="st300_term term">color</span> and an <span class="st300_term term">intensity</span>, but does not have an <span class="st300_term term">origin</span> and therefore is not attenuated over distance. It does not cause objects to cast shadows.</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s13ss1c2" href="#st300_p2s13ss1c2" title="Formal item 2.13.1.2: Directional lighting">2.13.1.2 Directional lighting</a></div><div class="st300_formal_item_content"><img class="st300_image" alt="Directional lighting" src="images/directional_diagram.png"/></div></div></div><div class="st300_subsection_container"><a id="di.lighting.directional.attenuation"/><div class="st300_subsection_title_number"><a id="st300_p2s13ss2" href="#st300_p2s13ss2" title="Subsection 2.13.2: Attenuation">2.13.2</a></div><div class="st300_subsection_title">Attenuation</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s13ss2c1" href="#st300_p2s13ss2c1" title="Paragraph 2.13.2.1">1</a></div><div class="st300_paragraph">Directional lights do not have origins and cannot therefore be attenuated over distance.</div></div></div><div class="st300_subsection_container"><a id="di.lighting.directional.application"/><div class="st300_subsection_title_number"><a id="st300_p2s13ss3" href="#st300_p2s13ss3" title="Subsection 2.13.3: Application">2.13.3</a></div><div class="st300_subsection_title">Application</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s13ss3c1" href="#st300_p2s13ss3c1" title="Paragraph 2.13.3.1">1</a></div><div class="st300_paragraph">The final light applied to the surface is given by <span class="st300_term function">directional</span> <a class="st300_link_external" href="haskell/Directional.hs">(Directional.hs)</a>, where <span class="st300_term variable">sr</span>, <span class="st300_term variable">sg</span>, <span class="st300_term variable">sb</span> are the red, green, and blue channels, respectively, of the surface being lit. Note that the surface-to-light vector <span class="st300_term variable">stl</span> is simply the negation of the light direction.</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s13ss3c2" href="#st300_p2s13ss3c2" title="Formal item 2.13.3.2: Directional lighting (Application)">2.13.3.2 Directional lighting (Application)</a></div><div class="st300_formal_item_content"><pre class="st300_verbatim">module Directional where

import qualified Color4
import qualified Direction
import qualified LightDirectional
import qualified LightDiffuse
import qualified LightSpecular
import qualified Normal
import qualified Position3
import qualified Spaces
import qualified Specular
import qualified Vector3f
import qualified Vector4f

directional :: Direction.T Spaces.Eye -&gt; Normal.T -&gt; Position3.T Spaces.Eye -&gt; LightDirectional.T -&gt; Specular.T -&gt; Color4.T -&gt; Vector3f.T
directional view n position light specular (Vector4f.V4 sr sg sb _) =
  let
    stl             = Vector3f.normalize (Vector3f.negation position)
    light_color     = LightDirectional.color light
    light_intensity = LightDirectional.intensity light
    light_d         = LightDiffuse.diffuse stl n light_color light_intensity
    light_s         = LightSpecular.specularBlinnPhong stl view n light_color light_intensity specular
    lit_d           = Vector3f.mult3 (Vector3f.V3 sr sg sb) light_d
    lit_s           = Vector3f.add3 lit_d light_s
  in
    lit_s
</pre></div></div></div><div class="st300_subsection_container"><a id="di.lighting.directional.types"/><div class="st300_subsection_title_number"><a id="st300_p2s13ss4" href="#st300_p2s13ss4" title="Subsection 2.13.4: Types">2.13.4</a></div><div class="st300_subsection_title">Types</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s13ss4c1" href="#st300_p2s13ss4c1" title="Paragraph 2.13.4.1">1</a></div><div class="st300_paragraph">Directional lights are represented in the <span class="st300_term package">r2</span> package by the <a class="st300_link_external" href="apidocs/com/io7m/r2/core/R2LightDirectionalScreenSingle.html">R2LightDirectionalScreenSingle</a> type.</div></div></div></div><div class="st300_navbar st300_navbar_bottom"><hr class="st300_hr"/><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s12.xhtml#st300_p2s12" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s14.xhtml#st300_p2s14" title="Go to next page">Next</a></td></tr><tr><td class="st300_navbar_prev_title_cell">2.12. Lighting</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.14. Lighting: Spherical</td></tr></table></div></div></body></html>
