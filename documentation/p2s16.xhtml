<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>io7m-r2 0.2.1 Documentation: 2.16. Shadows</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="kstructural-layout.css"/><link rel="stylesheet" type="text/css" href="kstructural-colour.css"/><link rel="stylesheet" type="text/css" href="documentation.css"/></head><body><div class="st300_body"><div class="st300_navbar st300_navbar_top"><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_title_cell">2.15. Lighting: Projective</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.17. Shadows: Variance Mapping</td></tr><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s15.xhtml#st300_p2s15" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s17.xhtml#st300_p2s17" title="Go to next page">Next</a></td></tr></table><hr class="st300_hr"/></div><div class="st300_section_container"><a id="di.shadows"/><div class="st300_section_title_number"><a id="st300_p2s16" href="#st300_p2s16" title="Section 2.16: Shadows">2.16</a></div><div class="st300_section_title">Shadows</div><ul class="st300_contents st300_section_contents_outer st300_section_contents"><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s16.xhtml#st300_p2s16ss1" title="Link to subsection 2.16.1: Overview">2.16.1. Overview</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s16.xhtml#st300_p2s16ss2" title="Link to subsection 2.16.2: Shadow Geometry">2.16.2. Shadow Geometry</a></li></ul><div class="st300_subsection_container"><a id="di.shadows.overview"/><div class="st300_subsection_title_number"><a id="st300_p2s16ss1" href="#st300_p2s16ss1" title="Subsection 2.16.1: Overview">2.16.1</a></div><div class="st300_subsection_title">Overview</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s16ss1c1" href="#st300_p2s16ss1c1" title="Paragraph 2.16.1.1">1</a></div><div class="st300_paragraph">Because the <span class="st300_term package">r2</span> package implements <span class="st300_term term">local illumination</span>, it is necessary to associate <span class="st300_term term">shadows</span> with those light sources capable of projecting them (currently only <a class="st300_link" href="p2s15.xhtml#di.lighting.projective">projective</a> lights). The <span class="st300_term package">r2</span> package currently only supports <a class="st300_link" href="p2s17.xhtml#di.shadows.variance">variance</a> <span class="st300_term term">shadow mapping</span>. So-called <span class="st300_term term">mapped</span> shadows allow efficient per-pixel shadows to be calculated with varying degrees of visual quality.</div></div></div><div class="st300_subsection_container"><a id="di.shadows.shadow-geometry"/><div class="st300_subsection_title_number"><a id="st300_p2s16ss2" href="#st300_p2s16ss2" title="Subsection 2.16.2: Shadow Geometry">2.16.2</a></div><div class="st300_subsection_title">Shadow Geometry</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s16ss2c1" href="#st300_p2s16ss2c1" title="Paragraph 2.16.2.1">1</a></div><div class="st300_paragraph">Because the system requires the programmer to explicitly and separately state that an opaque instance is visible in the scene, and that an opaque instance is casting a shadow, it becomes possible to effectively specify different <span class="st300_term term">shadow geometry</span> for a given instance. As an example, a very complex and high resolution mesh may still have the silhouette of a simple sphere, and therefore the user can separately add the high resolution mesh to a scene as a visible instance, but add a low resolution version of the mesh as an invisible shadow-casting instance with the same <a class="st300_link" href="p2s5.xhtml#di.transforms">transform</a>. As a rather extreme example, assuming a high resolution mesh <span class="st300_term variable">m0</span> added to the scene as both a visible instance and a shadow caster:</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s16ss2c2" href="#st300_p2s16ss2c2" title="Formal item 2.16.2.2: Visible and shadow casting (High)">2.16.2.2 Visible and shadow casting (High)</a></div><div class="st300_formal_item_content"><img class="st300_image" alt="Visible and shadow casting (High)" src="images/shadow_geo_0.png"/></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s16ss2c3" href="#st300_p2s16ss2c3" title="Paragraph 2.16.2.3">3</a></div><div class="st300_paragraph">A low resolution mesh <span class="st300_term variable">m1</span> added to the scene as both a visible instance and shadow caster:</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s16ss2c4" href="#st300_p2s16ss2c4" title="Formal item 2.16.2.4: Visible and shadow casting (Low)">2.16.2.4 Visible and shadow casting (Low)</a></div><div class="st300_formal_item_content"><img class="st300_image" alt="Visible and shadow casting (Low)" src="images/shadow_geo_1.png"/></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s16ss2c5" href="#st300_p2s16ss2c5" title="Paragraph 2.16.2.5">5</a></div><div class="st300_paragraph">Now, with <span class="st300_term variable">m1</span> added as only a shadow caster, and <span class="st300_term variable">m0</span> added as only a visible instance:</div></div><div class="st300_formal_item"><div class="st300_formal_item_title"><a id="st300_p2s16ss2c6" href="#st300_p2s16ss2c6" title="Formal item 2.16.2.6: Visible and shadow casting (Low shadow, high visible)">2.16.2.6 Visible and shadow casting (Low shadow, high visible)</a></div><div class="st300_formal_item_content"><img class="st300_image" alt="Visible and shadow casting (Low shadow, high visible)" src="images/shadow_geo_2.png"/></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s16ss2c7" href="#st300_p2s16ss2c7" title="Paragraph 2.16.2.7">7</a></div><div class="st300_paragraph">Using lower resolution geometry for shadow casters can lead to efficiency gains on systems where vertex processing is expensive.</div></div></div></div><div class="st300_navbar st300_navbar_bottom"><hr class="st300_hr"/><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2s15.xhtml#st300_p2s15" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p2s17.xhtml#st300_p2s17" title="Go to next page">Next</a></td></tr><tr><td class="st300_navbar_prev_title_cell">2.15. Lighting: Projective</td><td class="st300_navbar_up_title_cell">2. Design And Implementation</td><td class="st300_navbar_next_title_cell">2.17. Shadows: Variance Mapping</td></tr></table></div></div></body></html>
